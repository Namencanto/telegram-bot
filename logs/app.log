2024-06-06T21:07:37.166Z - Bot is running...
2024-06-06T21:16:29.684Z - Bot is running...
2024-06-06T21:19:34.783Z - Bot is running...
2024-06-06T21:22:01.348Z - Bot is running...
2024-06-06T21:26:55.200Z - Bot is running...
2024-06-06T21:31:11.765Z - Bot is running...
2024-06-06T21:50:09.231Z - Bot is running...
2024-06-06T21:53:09.576Z - Bot is running...
2024-06-06T21:53:37.365Z - Bot is running...
2024-06-06T21:54:15.636Z - Bot is running...
2024-06-06T22:10:00.404Z - Bot is running...
2024-06-07T08:26:23.924Z - Bot launch error
2024-06-07T08:26:38.144Z - Bot launch error
2024-06-07T08:27:07.903Z - Bot launch error
2024-06-07T08:27:27.189Z - Bot is running...
2024-06-07T10:46:28.919Z - Bot is running...
2024-06-07T10:48:59.676Z - Bot is running...
2024-06-07T10:50:15.471Z - Bot is running...
2024-06-07T11:01:43.771Z - Bot is running...
2024-06-07T11:04:07.888Z - Bot is running...
2024-06-07T11:13:57.510Z - Bot is running...
2024-06-07T11:17:22.569Z - Bot is running...
2024-06-07T11:24:41.753Z - Bot is running...
2024-06-07T11:42:14.927Z - Bot launch error
2024-06-07T11:42:56.950Z - Bot launch error
2024-06-07T11:47:00.068Z - Bot launch error
2024-06-07T11:47:31.695Z - Bot launch error
2024-06-07T11:47:51.568Z - Bot launch error
2024-06-07T11:48:33.514Z - Bot launch error
2024-06-07T11:54:41.105Z - Bot launch error
2024-06-07T11:58:55.248Z - Bot launch error
2024-06-07T11:59:23.084Z - Bot is running...
2024-06-07T12:07:48.638Z - Bot is running...
2024-06-07T12:11:54.511Z - Bot is running...
2024-06-07T12:15:44.901Z - Bot is running...
2024-06-07T12:19:11.172Z - Bot is running...
2024-06-07T12:32:32.139Z - Bot is running...
2024-06-07T12:33:40.634Z - Bot is running...
2024-06-07T12:38:51.793Z - Bot is running...
2024-06-07T12:52:04.309Z - Bot is running...
2024-06-07T12:53:05.559Z - Bot is running...
2024-06-07T12:55:23.241Z - Bot is running...
2024-06-07T13:03:12.919Z - Bot is running...
2024-06-07T13:04:07.823Z - Bot is running...
2024-06-07T13:04:40.213Z - Bot is running...
2024-06-07T13:07:06.159Z - Bot is running...
2024-06-07T13:08:54.195Z - Bot is running...
2024-06-07T13:09:33.678Z - Bot is running...
2024-06-07T13:12:44.102Z - Bot is running...
2024-06-07T13:15:43.786Z - Bot is running...
2024-06-07T13:32:12.530Z - Bot is running...
2024-06-07T13:32:23.494Z - Bot is running...
2024-06-07T13:35:46.853Z - Bot is running...
2024-06-07T13:36:03.166Z - Bot is running...
2024-06-07T13:57:53.627Z - Bot is running...
2024-06-07T13:58:44.268Z - Bot is running...
2024-06-07T14:13:24.616Z - Bot is running...
2024-06-07T14:15:23.212Z - Bot is running...
2024-06-07T14:22:39.101Z - Bot is running...
2024-06-07T14:34:09.171Z - Bot is running...
2024-06-07T15:34:45.786Z - Bot is running...
2024-06-07T15:35:29.046Z - Bot is running...
2024-06-07T15:36:09.761Z - Bot is running...
2024-06-07T15:36:53.430Z - Bot is running...
2024-06-07T15:37:05.341Z - Bot is running...
2024-06-07T15:37:21.401Z - Bot is running...
2024-06-07T15:43:03.222Z - Bot is running...
2024-06-07T15:44:28.999Z - Bot is running...
2024-06-07T15:53:44.006Z - Bot is running...
2024-06-07T15:54:08.538Z - Bot is running...
2024-06-07T16:01:51.266Z - Bot is running...
2024-06-07T16:02:42.574Z - Bot is running...
2024-06-07T16:07:23.886Z - Bot is running...
2024-06-07T16:18:49.399Z - Bot is running...
2024-06-07T16:26:04.192Z - Bot is running...
2024-06-07T16:26:15.977Z - Unauthorized access attempt by: 6203496685
2024-06-07T16:26:21.052Z - Unauthorized access attempt by: 6203496685
2024-06-07T16:27:11.529Z - Bot is running...
2024-06-07T16:28:01.036Z - Bot is running...
2024-06-07T16:28:05.545Z - Unauthorized admin access attempt by: 6203496685
2024-06-07T16:28:22.160Z - Bot is running...
2024-06-07T16:29:44.111Z - Bot is running...
2024-06-07T16:30:15.880Z - Unauthorized admin access attempt by: 6203496685
2024-06-07T16:31:23.248Z - Bot is running...
2024-06-07T16:31:23.901Z - Unauthorized admin access attempt by: 6203496685
2024-06-07T16:32:09.915Z - Bot is running...
2024-06-07T16:32:12.673Z - Unauthorized admin access attempt by: 6203496685
2024-06-07T16:32:41.170Z - Bot is running...
2024-06-07T16:34:14.605Z - Error adding stock:
2024-06-07T16:36:07.132Z - Bot is running...
2024-06-07T16:36:42.447Z - Error adding stock:
2024-06-07T16:49:51.301Z - Error adding stock:
2024-06-07T16:51:19.872Z - Error adding stock:
2024-06-07T16:53:16.158Z - Bot is running...
2024-06-07T16:53:31.887Z - Adding key: 1212, mm: 12, yyyy: 2020, otherinfo1: Otherinfo, otherinfo2: otherinfo, otherinfo3: otherinfo
2024-06-07T16:53:31.902Z - Adding key: 1212, mm: 12, yyyy: 2020, otherinfo1: Otherinfo, otherinfo2: otherinfo, otherinfo3: otherinfo
2024-06-07T16:53:31.904Z - Adding key: 1212, mm: 12, yyyy: 2020, otherinfo1: Otherinfo, otherinfo2: otherinfo, otherinfo3: otherinfo
2024-06-07T16:53:31.907Z - Adding key: 1212, mm: 12, yyyy: 2020, otherinfo1: Otherinfo, otherinfo2: otherinfo, otherinfo3: otherinfo
2024-06-07T16:53:31.910Z - Adding key: 1212, mm: 12, yyyy: 2020, otherinfo1: Otherinfo, otherinfo2: otherinfo, otherinfo3: otherinfo
2024-06-07T16:53:31.913Z - Adding key: 1212, mm: 12, yyyy: 2020, otherinfo1: Otherinfo, otherinfo2: otherinfo, otherinfo3: otherinfo
2024-06-07T16:53:31.916Z - Adding key: 1212, mm: 12, yyyy: 2020, otherinfo1: Otherinfo, otherinfo2: otherinfo, otherinfo3: otherinfo
2024-06-07T16:53:32.162Z - All keys have been added successfully.
2024-06-07T16:53:45.535Z - Fetching current stock.
2024-06-07T16:56:43.041Z - Bot is running...
2024-06-07T16:57:41.815Z - Bot is running...
2024-06-07T16:58:23.568Z - Bot is running...
2024-06-07T16:58:25.882Z - User 6203496685 requested current stock.
2024-06-07T16:58:25.905Z - Current stock for user 6203496685: 
Current stock:
1212: 8
2024-06-07T17:00:41.131Z - Bot is running...
2024-06-07T17:00:59.515Z - Bot is running...
2024-06-07T17:01:35.456Z - Bot is running...
2024-06-07T17:02:19.287Z - Bot is running...
2024-06-07T17:05:53.925Z - Bot is running...
2024-06-07T17:10:44.741Z - Bot is running...
2024-06-07T17:16:46.823Z - Bot is running...
2024-06-07T17:18:28.705Z - Bot is running...
2024-06-07T17:20:19.512Z - Bot is running...
2024-06-07T17:23:25.199Z - Bot is running...
2024-06-07T17:24:22.733Z - Bot is running...
2024-06-07T17:24:48.605Z - Bot is running...
2024-06-07T17:25:03.725Z - Bot is running...
2024-06-07T17:25:16.427Z - Bot is running...
2024-06-07T17:27:22.838Z - Bot is running...
2024-06-07T17:27:22.840Z - Checking deposits...
2024-06-07T17:27:22.873Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:27:22.874Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:27:24.034Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685:
2024-06-07T17:28:01.221Z - Bot is running...
2024-06-07T17:28:01.222Z - Checking deposits...
2024-06-07T17:28:01.261Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:28:01.262Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:28:02.328Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685:
2024-06-07T17:33:01.505Z - Bot is running...
2024-06-07T17:33:01.507Z - Checking deposits...
2024-06-07T17:33:01.554Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:33:01.553Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:33:02.792Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685:
2024-06-07T17:33:44.016Z - Bot is running...
2024-06-07T17:33:44.018Z - Checking deposits...
2024-06-07T17:33:44.080Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:33:44.082Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:33:45.045Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:38:25.425Z - Bot is running...
2024-06-07T17:38:25.427Z - Checking deposits...
2024-06-07T17:38:25.474Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:38:25.475Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:38:26.659Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:39:14.151Z - Bot is running...
2024-06-07T17:39:14.153Z - Checking deposits...
2024-06-07T17:39:14.189Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:39:14.189Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:39:15.300Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:40:13.572Z - Checking deposits...
2024-06-07T17:40:13.628Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:40:13.629Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:40:14.538Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:41:13.588Z - Checking deposits...
2024-06-07T17:41:13.646Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:41:13.647Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:41:14.591Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:42:13.616Z - Checking deposits...
2024-06-07T17:42:13.670Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:42:13.678Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:42:14.787Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:43:13.652Z - Checking deposits...
2024-06-07T17:43:13.711Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:43:13.711Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:43:17.036Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:44:17.534Z - Bot is running...
2024-06-07T17:44:17.536Z - Checking deposits...
2024-06-07T17:44:17.586Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:44:17.588Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:44:18.791Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:45:16.799Z - Checking deposits...
2024-06-07T17:45:16.884Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:45:16.885Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:45:17.626Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:45:27.981Z - Bot is running...
2024-06-07T17:45:27.983Z - Checking deposits...
2024-06-07T17:45:28.035Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:45:28.037Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:45:29.060Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:46:10.135Z - Bot launch error ctx is not defined
ReferenceError: ctx is not defined
    at startApp (file:///home/mordon-dev/telegram_bot/src/index.js:22:17)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
2024-06-07T17:46:29.100Z - Bot is running...
2024-06-07T17:46:29.101Z - Checking deposits...
2024-06-07T17:46:29.146Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:46:29.147Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:46:30.395Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:47:28.464Z - Checking deposits...
2024-06-07T17:47:28.531Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:47:28.532Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:47:29.489Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:48:28.508Z - Checking deposits...
2024-06-07T17:48:28.569Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:48:28.570Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:48:29.608Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:49:28.512Z - Checking deposits...
2024-06-07T17:49:28.566Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:49:28.565Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:49:29.649Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:50:28.528Z - Checking deposits...
2024-06-07T17:50:28.577Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:50:28.577Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:50:29.445Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:51:28.552Z - Checking deposits...
2024-06-07T17:51:28.624Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:51:28.626Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:51:29.737Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:52:28.588Z - Checking deposits...
2024-06-07T17:52:28.644Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:52:28.645Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:52:29.592Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:53:28.632Z - Checking deposits...
2024-06-07T17:53:28.691Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:53:28.691Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:53:29.821Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:54:28.636Z - Checking deposits...
2024-06-07T17:54:28.688Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:54:28.688Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:54:29.865Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:54:57.927Z - Bot is running...
2024-06-07T17:54:57.929Z - Checking deposits...
2024-06-07T17:54:57.968Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:54:57.970Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:54:59.168Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:55:57.300Z - Checking deposits...
2024-06-07T17:55:57.358Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:55:57.359Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:55:58.121Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:56:57.308Z - Checking deposits...
2024-06-07T17:56:57.421Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:56:57.428Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:56:58.559Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:57:57.323Z - Checking deposits...
2024-06-07T17:57:57.372Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:57:57.371Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:57:58.120Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:58:57.352Z - Checking deposits...
2024-06-07T17:58:57.402Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:58:57.403Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:58:58.529Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:59:05.955Z - Bot is running...
2024-06-07T17:59:05.958Z - Checking deposits...
2024-06-07T17:59:06.005Z - Found 1 unconfirmed deposits to check.
2024-06-07T17:59:06.007Z - Checking deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685.
2024-06-07T17:59:06.946Z - Error processing deposit d905a638-0910-4c29-8193-47875a8012ec for user 6203496685: Unknown error: {}
2024-06-07T17:59:25.508Z - Fetching NaN bulk keys.
2024-06-07T17:59:25.523Z - Error in selectBulkQuantity for user 6203496685: column "nan" does not exist
Error
    at Query.run (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /home/mordon-dev/telegram_bot/node_modules/sequelize/lib/sequelize.js:315:28
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async PostgresQueryInterface.select (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async Function.findAll (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getBulkKeys (file:///home/mordon-dev/telegram_bot/src/services/stock.js:34:18)
    at async Object.selectBulkQuantity (file:///home/mordon-dev/telegram_bot/src/controllers/user.js:152:20)
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
    at async /home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:459:21
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
2024-06-07T18:00:05.368Z - Checking deposits...
2024-06-07T18:00:05.421Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:01:05.416Z - Checking deposits...
2024-06-07T18:01:05.474Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:02:05.424Z - Checking deposits...
2024-06-07T18:02:05.489Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:03:05.444Z - Checking deposits...
2024-06-07T18:03:05.525Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:04:05.444Z - Checking deposits...
2024-06-07T18:04:05.452Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:05:05.459Z - Checking deposits...
2024-06-07T18:05:05.526Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:06:05.484Z - Checking deposits...
2024-06-07T18:06:05.539Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:07:05.518Z - Checking deposits...
2024-06-07T18:07:05.590Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:08:08.022Z - Bot is running...
2024-06-07T18:08:08.024Z - Checking deposits...
2024-06-07T18:08:08.053Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:08:21.752Z - Fetching NaN bulk keys.
2024-06-07T18:08:21.768Z - Error in selectBulkQuantity for user 6203496685: column "nan" does not exist
Error
    at Query.run (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /home/mordon-dev/telegram_bot/node_modules/sequelize/lib/sequelize.js:315:28
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async PostgresQueryInterface.select (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async Function.findAll (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getBulkKeys (file:///home/mordon-dev/telegram_bot/src/services/stock.js:34:18)
    at async Object.selectBulkQuantity (file:///home/mordon-dev/telegram_bot/src/controllers/user.js:186:20)
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
    at async /home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:459:21
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
2024-06-07T18:09:07.520Z - Checking deposits...
2024-06-07T18:09:07.590Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:10:11.906Z - Bot is running...
2024-06-07T18:10:11.908Z - Checking deposits...
2024-06-07T18:10:11.939Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:10:24.573Z - Fetching NaN bulk keys.
2024-06-07T18:10:24.586Z - Error in selectBulkQuantity for user 6203496685: column "nan" does not exist
Error
    at Query.run (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /home/mordon-dev/telegram_bot/node_modules/sequelize/lib/sequelize.js:315:28
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async PostgresQueryInterface.select (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async Function.findAll (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getBulkKeys (file:///home/mordon-dev/telegram_bot/src/services/stock.js:34:18)
    at async Object.selectBulkQuantity (file:///home/mordon-dev/telegram_bot/src/controllers/user.js:177:20)
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
    at async /home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:459:21
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
2024-06-07T18:11:07.862Z - Bot is running...
2024-06-07T18:11:07.864Z - Checking deposits...
2024-06-07T18:11:07.892Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:11:13.086Z - Fetching NaN bulk keys.
2024-06-07T18:11:13.098Z - Error in selectBulkQuantity for user 6203496685: column "nan" does not exist
Error
    at Query.run (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /home/mordon-dev/telegram_bot/node_modules/sequelize/lib/sequelize.js:315:28
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async PostgresQueryInterface.select (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async Function.findAll (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getBulkKeys (file:///home/mordon-dev/telegram_bot/src/services/stock.js:34:18)
    at async Object.selectBulkQuantity (file:///home/mordon-dev/telegram_bot/src/controllers/user.js:180:20)
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
    at async /home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:459:21
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
2024-06-07T18:12:07.288Z - Checking deposits...
2024-06-07T18:12:07.337Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:13:07.301Z - Checking deposits...
2024-06-07T18:13:07.353Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:13:40.428Z - Bot is running...
2024-06-07T18:13:40.431Z - Checking deposits...
2024-06-07T18:13:40.485Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:14:39.046Z - Checking deposits...
2024-06-07T18:14:39.124Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:15:14.965Z - Bot is running...
2024-06-07T18:15:14.968Z - Checking deposits...
2024-06-07T18:15:15.019Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:16:01.503Z - Fetching 1000 bulk keys.
2024-06-07T18:16:14.330Z - Checking deposits...
2024-06-07T18:16:14.437Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:16:39.733Z - Bot is running...
2024-06-07T18:16:39.735Z - Checking deposits...
2024-06-07T18:16:39.770Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:17:39.072Z - Checking deposits...
2024-06-07T18:17:39.141Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:18:39.082Z - Checking deposits...
2024-06-07T18:18:39.143Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:19:39.101Z - Checking deposits...
2024-06-07T18:19:39.167Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:20:15.577Z - Bot is running...
2024-06-07T18:20:15.579Z - Checking deposits...
2024-06-07T18:20:15.629Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:20:43.443Z - Bot is running...
2024-06-07T18:20:43.444Z - Checking deposits...
2024-06-07T18:20:43.480Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:21:42.809Z - Checking deposits...
2024-06-07T18:21:42.873Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:22:42.821Z - Checking deposits...
2024-06-07T18:22:42.874Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:23:11.893Z - Bot is running...
2024-06-07T18:23:11.895Z - Checking deposits...
2024-06-07T18:23:11.929Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:23:17.754Z - Error in selectBulkQuantity for user 6203496685: Cannot set properties of undefined (setting 'customQuantity')
TypeError: Cannot set properties of undefined (setting 'customQuantity')
    at Object.selectBulkQuantity (file:///home/mordon-dev/telegram_bot/src/controllers/user.js:137:36)
    at file:///home/mordon-dev/telegram_bot/src/index.js:35:51
    at /home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:324:28
    at /home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:158:111
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
    at async /home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:459:21
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
    at async /home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:459:21
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
2024-06-07T18:24:11.268Z - Checking deposits...
2024-06-07T18:24:11.414Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:25:11.280Z - Checking deposits...
2024-06-07T18:25:11.346Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:26:27.826Z - Bot is running...
2024-06-07T18:26:27.829Z - Checking deposits...
2024-06-07T18:26:27.873Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:27:27.248Z - Checking deposits...
2024-06-07T18:27:27.313Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:27:56.798Z - Bot is running...
2024-06-07T18:27:56.801Z - Checking deposits...
2024-06-07T18:27:56.849Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:28:56.228Z - Checking deposits...
2024-06-07T18:28:56.281Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:29:32.297Z - Bot is running...
2024-06-07T18:29:32.300Z - Checking deposits...
2024-06-07T18:29:32.336Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:30:31.672Z - Checking deposits...
2024-06-07T18:30:31.731Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:31:31.677Z - Checking deposits...
2024-06-07T18:31:31.726Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:32:30.100Z - Bot is running...
2024-06-07T18:32:30.103Z - Checking deposits...
2024-06-07T18:32:30.155Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:33:29.404Z - Checking deposits...
2024-06-07T18:33:29.460Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:34:29.452Z - Checking deposits...
2024-06-07T18:34:29.510Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:35:29.460Z - Checking deposits...
2024-06-07T18:35:29.509Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:36:29.476Z - Checking deposits...
2024-06-07T18:36:29.536Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:37:29.504Z - Checking deposits...
2024-06-07T18:37:29.560Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:39:21.044Z - Bot is running...
2024-06-07T18:39:21.045Z - Checking deposits...
2024-06-07T18:39:21.088Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:40:20.508Z - Checking deposits...
2024-06-07T18:40:20.564Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:40:34.243Z - Bot is running...
2024-06-07T18:40:34.246Z - Checking deposits...
2024-06-07T18:40:34.312Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:40:49.606Z - Bot is running...
2024-06-07T18:40:49.608Z - Checking deposits...
2024-06-07T18:40:49.647Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:40:59.999Z - Fetching Canada keys.
2024-06-07T18:41:00.013Z - Error in handleCustomQuantity for user 6203496685: invalid input syntax for type bigint: "Canada"
Error
    at Query.run (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /home/mordon-dev/telegram_bot/node_modules/sequelize/lib/sequelize.js:315:28
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async PostgresQueryInterface.select (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async Function.findAll (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getKeys (file:///home/mordon-dev/telegram_bot/src/services/stock.js:24:18)
    at async Object.handleCustomQuantity (file:///home/mordon-dev/telegram_bot/src/controllers/user.js:149:41)
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
    at async /home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:459:21
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
2024-06-07T18:41:49.056Z - Checking deposits...
2024-06-07T18:41:49.109Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:42:49.065Z - Checking deposits...
2024-06-07T18:42:49.134Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:43:49.080Z - Checking deposits...
2024-06-07T18:43:49.136Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:44:49.108Z - Checking deposits...
2024-06-07T18:44:49.160Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:45:49.146Z - Checking deposits...
2024-06-07T18:45:49.194Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:46:49.196Z - Checking deposits...
2024-06-07T18:46:49.241Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:47:49.204Z - Checking deposits...
2024-06-07T18:47:49.258Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:58:14.452Z - Bot is running...
2024-06-07T18:58:14.453Z - Checking deposits...
2024-06-07T18:58:14.500Z - Found 0 unconfirmed deposits to check.
2024-06-07T18:58:39.431Z - Fetching current stock.
2024-06-07T18:58:39.431Z - User 6203496685 requested current stock.
2024-06-07T18:58:39.468Z - Error fetching stock for user 6203496685: column "Key.id" must appear in the GROUP BY clause or be used in an aggregate function
Error
    at Query.run (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /home/mordon-dev/telegram_bot/node_modules/sequelize/lib/sequelize.js:315:28
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async PostgresQueryInterface.select (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async Function.findAll (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getStock (file:///home/mordon-dev/telegram_bot/src/services/stock.js:59:19)
    at async Object.queryStock (file:///home/mordon-dev/telegram_bot/src/controllers/user.js:252:21)
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
    at async /home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:459:21
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
2024-06-07T18:59:13.876Z - Checking deposits...
2024-06-07T18:59:13.934Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:00:13.919Z - Checking deposits...
2024-06-07T19:00:13.970Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:01:13.924Z - Checking deposits...
2024-06-07T19:01:13.986Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:02:13.936Z - Checking deposits...
2024-06-07T19:02:13.996Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:03:13.960Z - Checking deposits...
2024-06-07T19:03:14.021Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:04:19.893Z - Bot is running...
2024-06-07T19:04:19.895Z - Checking deposits...
2024-06-07T19:04:19.933Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:04:22.667Z - User 6203496685 requested current stock.
2024-06-07T19:04:22.668Z - Fetching current stock.
2024-06-07T19:04:22.690Z - Error fetching stock for user 6203496685: column "country" does not exist
Error
    at Query.run (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /home/mordon-dev/telegram_bot/node_modules/sequelize/lib/sequelize.js:315:28
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async PostgresQueryInterface.select (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async Function.findAll (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getStock (file:///home/mordon-dev/telegram_bot/src/services/stock.js:59:19)
    at async Object.queryStock (file:///home/mordon-dev/telegram_bot/src/controllers/user.js:252:21)
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
    at async /home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:459:21
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
2024-06-07T19:05:19.121Z - Checking deposits...
2024-06-07T19:05:19.186Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:11:23.580Z - Bot is running...
2024-06-07T19:11:23.582Z - Checking deposits...
2024-06-07T19:11:23.630Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:21:16.286Z - Bot is running...
2024-06-07T19:21:16.288Z - Checking deposits...
2024-06-07T19:21:16.333Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:21:22.838Z - User 6203496685 requested current stock.
2024-06-07T19:21:22.838Z - Fetching current stock.
2024-06-07T19:21:22.871Z - Error fetching stock for user 6203496685: column Stock.key_id does not exist
Error
    at Query.run (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /home/mordon-dev/telegram_bot/node_modules/sequelize/lib/sequelize.js:315:28
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async PostgresQueryInterface.select (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async Function.findAll (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getStock (file:///home/mordon-dev/telegram_bot/src/services/stock.js:59:19)
    at async Object.queryStock (file:///home/mordon-dev/telegram_bot/src/controllers/user.js:252:21)
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
    at async /home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:459:21
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
2024-06-07T19:22:15.321Z - Checking deposits...
2024-06-07T19:22:15.390Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:23:15.332Z - Checking deposits...
2024-06-07T19:23:15.399Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:24:15.353Z - Checking deposits...
2024-06-07T19:24:15.410Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:24:26.324Z - Bot is running...
2024-06-07T19:24:26.326Z - Checking deposits...
2024-06-07T19:24:26.368Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:24:30.638Z - User 6203496685 requested current stock.
2024-06-07T19:24:30.638Z - Fetching current stock.
2024-06-07T19:24:30.666Z - Error fetching stock for user 6203496685: column Stocks.key_id does not exist
Error
    at Query.run (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /home/mordon-dev/telegram_bot/node_modules/sequelize/lib/sequelize.js:315:28
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async PostgresQueryInterface.select (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async Function.findAll (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getStock (file:///home/mordon-dev/telegram_bot/src/services/stock.js:59:19)
    at async Object.queryStock (file:///home/mordon-dev/telegram_bot/src/controllers/user.js:252:21)
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
    at async /home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:459:21
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
2024-06-07T19:25:25.640Z - Checking deposits...
2024-06-07T19:25:25.724Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:26:25.653Z - Checking deposits...
2024-06-07T19:26:25.869Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:26:54.260Z - Bot is running...
2024-06-07T19:26:54.262Z - Checking deposits...
2024-06-07T19:26:54.302Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:26:59.696Z - User 6203496685 requested current stock.
2024-06-07T19:26:59.697Z - Fetching current stock.
2024-06-07T19:26:59.720Z - Error fetching stock for user 6203496685: missing FROM-clause entry for table "Stock"
Error
    at Query.run (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /home/mordon-dev/telegram_bot/node_modules/sequelize/lib/sequelize.js:315:28
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async PostgresQueryInterface.select (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async Function.findAll (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getStock (file:///home/mordon-dev/telegram_bot/src/services/stock.js:59:19)
    at async Object.queryStock (file:///home/mordon-dev/telegram_bot/src/controllers/user.js:252:21)
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
    at async /home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:459:21
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
2024-06-07T19:27:53.280Z - Checking deposits...
2024-06-07T19:27:53.341Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:28:07.248Z - Bot is running...
2024-06-07T19:28:07.256Z - Checking deposits...
2024-06-07T19:28:07.379Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:28:18.984Z - User 6203496685 requested current stock.
2024-06-07T19:28:18.986Z - Fetching current stock.
2024-06-07T19:28:19.137Z - Error fetching stock for user 6203496685: missing FROM-clause entry for table "Stock"
Error
    at Query.run (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /home/mordon-dev/telegram_bot/node_modules/sequelize/lib/sequelize.js:315:28
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async PostgresQueryInterface.select (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async Function.findAll (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getStock (file:///home/mordon-dev/telegram_bot/src/services/stock.js:59:19)
    at async Object.queryStock (file:///home/mordon-dev/telegram_bot/src/controllers/user.js:252:21)
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
    at async /home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:459:21
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
2024-06-07T19:29:06.568Z - Checking deposits...
2024-06-07T19:29:06.633Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:30:06.576Z - Checking deposits...
2024-06-07T19:30:06.636Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:31:06.592Z - Checking deposits...
2024-06-07T19:31:06.650Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:32:06.617Z - Checking deposits...
2024-06-07T19:32:06.728Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:33:06.652Z - Checking deposits...
2024-06-07T19:33:06.716Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:34:06.698Z - Checking deposits...
2024-06-07T19:34:06.747Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:35:06.704Z - Checking deposits...
2024-06-07T19:35:06.768Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:36:06.720Z - Checking deposits...
2024-06-07T19:36:06.775Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:36:27.317Z - Bot is running...
2024-06-07T19:36:27.320Z - Checking deposits...
2024-06-07T19:36:27.366Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:36:30.749Z - User 6203496685 requested current stock.
2024-06-07T19:36:30.750Z - Fetching current stock.
2024-06-07T19:36:30.784Z - Error fetching stock for user 6203496685: column "Stocks.id" must appear in the GROUP BY clause or be used in an aggregate function
Error
    at Query.run (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /home/mordon-dev/telegram_bot/node_modules/sequelize/lib/sequelize.js:315:28
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async PostgresQueryInterface.select (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async Function.findAll (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getStock (file:///home/mordon-dev/telegram_bot/src/services/stock.js:59:19)
    at async Object.queryStock (file:///home/mordon-dev/telegram_bot/src/controllers/user.js:252:21)
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
    at async /home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:459:21
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
2024-06-07T19:36:56.849Z - Bot is running...
2024-06-07T19:36:56.860Z - Checking deposits...
2024-06-07T19:36:56.950Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:36:59.160Z - User 6203496685 requested current stock.
2024-06-07T19:36:59.161Z - Fetching current stock.
2024-06-07T19:36:59.198Z - Error fetching stock for user 6203496685: missing FROM-clause entry for table "Stock"
Error
    at Query.run (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/postgres/query.js:50:25)
    at /home/mordon-dev/telegram_bot/node_modules/sequelize/lib/sequelize.js:315:28
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async PostgresQueryInterface.select (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/dialects/abstract/query-interface.js:407:12)
    at async Function.findAll (/home/mordon-dev/telegram_bot/node_modules/sequelize/lib/model.js:1140:21)
    at async Object.getStock (file:///home/mordon-dev/telegram_bot/src/services/stock.js:59:19)
    at async Object.queryStock (file:///home/mordon-dev/telegram_bot/src/controllers/user.js:252:21)
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
    at async /home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:459:21
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
2024-06-07T19:37:15.193Z - Bot is running...
2024-06-07T19:37:15.201Z - Checking deposits...
2024-06-07T19:37:15.261Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:37:18.163Z - User 6203496685 requested current stock.
2024-06-07T19:37:18.165Z - Fetching current stock.
2024-06-07T19:37:18.215Z - Error fetching stock for user 6203496685: Cannot read properties of undefined (reading 'stock_id')
TypeError: Cannot read properties of undefined (reading 'stock_id')
    at file:///home/mordon-dev/telegram_bot/src/controllers/user.js:254:56
    at Array.map (<anonymous>)
    at Object.queryStock (file:///home/mordon-dev/telegram_bot/src/controllers/user.js:254:22)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
    at async /home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:459:21
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
    at async /home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:459:21
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
    at async /home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:459:21
2024-06-07T19:38:14.382Z - Checking deposits...
2024-06-07T19:38:14.466Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:39:14.396Z - Checking deposits...
2024-06-07T19:39:14.465Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:39:27.710Z - Bot is running...
2024-06-07T19:39:27.712Z - Checking deposits...
2024-06-07T19:39:27.763Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:39:34.053Z - User 6203496685 requested current stock.
2024-06-07T19:39:34.054Z - Fetching current stock.
2024-06-07T19:39:34.090Z - Error fetching stock for user 6203496685: Cannot read properties of undefined (reading 'stock_id')
TypeError: Cannot read properties of undefined (reading 'stock_id')
    at file:///home/mordon-dev/telegram_bot/src/controllers/user.js:254:56
    at Array.map (<anonymous>)
    at Object.queryStock (file:///home/mordon-dev/telegram_bot/src/controllers/user.js:254:22)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
    at async /home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:459:21
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
    at async /home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:459:21
    at async execute (/home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:458:17)
    at async /home/mordon-dev/telegram_bot/node_modules/telegraf/lib/composer.js:459:21
2024-06-07T19:40:26.963Z - Checking deposits...
2024-06-07T19:40:27.065Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:41:26.976Z - Checking deposits...
2024-06-07T19:41:27.029Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:42:26.996Z - Checking deposits...
2024-06-07T19:42:27.048Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:43:27.027Z - Checking deposits...
2024-06-07T19:43:27.100Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:43:42.097Z - Bot is running...
2024-06-07T19:43:42.100Z - Checking deposits...
2024-06-07T19:43:42.146Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:43:47.816Z - User 6203496685 requested current stock.
2024-06-07T19:43:47.819Z - Fetching current stock.
2024-06-07T19:43:47.907Z - Current stock for user 6203496685: 
Current stock:
{stock}
2024-06-07T19:44:47.926Z - Bot is running...
2024-06-07T19:44:47.930Z - Checking deposits...
2024-06-07T19:44:48.010Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:44:49.593Z - User 6203496685 requested current stock.
2024-06-07T19:44:49.593Z - Fetching current stock.
2024-06-07T19:44:49.644Z - Current stock for user 6203496685: 
Current stock:
{stock}
2024-06-07T19:45:47.100Z - Checking deposits...
2024-06-07T19:45:47.206Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:46:47.116Z - Checking deposits...
2024-06-07T19:46:47.221Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:47:25.960Z - Bot is running...
2024-06-07T19:47:25.967Z - Checking deposits...
2024-06-07T19:47:26.031Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:47:38.116Z - User 6203496685 requested current stock.
2024-06-07T19:47:38.117Z - Fetching current stock.
2024-06-07T19:47:38.159Z - Current stock for user 6203496685: 
Country: Canada, Count: 1, Average Price: $5.00
Country: UK, Count: 1, Average Price: $4.50
Country: USA, Count: 1, Average Price: $5.50
2024-06-07T19:48:25.044Z - Checking deposits...
2024-06-07T19:48:25.124Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:49:25.048Z - Checking deposits...
2024-06-07T19:49:25.113Z - Found 0 unconfirmed deposits to check.
2024-06-07T19:50:25.064Z - Checking deposits...
2024-06-07T19:50:25.124Z - Found 0 unconfirmed deposits to check.
